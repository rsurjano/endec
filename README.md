# Encryption and Decryption Script

This project provides a set of Python scripts to securely compress, encrypt, and decrypt data folders using AES and RSA encryption. It also includes functionality to generate RSA keys, verify file integrity using checksums, and manage encrypted backups.

## Features

- **AES Encryption**: Encrypts data using AES-256 with a randomly generated key and IV.
- **RSA Encryption**: Encrypts the AES key using RSA-4096 for secure key sharing.
- **Checksum Verification**: Ensures data integrity by generating and verifying SHA-256 checksums.
- **Data Compression**: Compresses data folders into ZIP archives before encryption.
- **Git Integration**: Automatically commits encrypted files to a Git repository.
- **Key Management**: Generates and stores RSA public/private key pairs.
- **Decryption**: Decrypts and decompresses encrypted files back into their original form.

---

## Prerequisites

1. **Python**: Ensure Python 3.8+ is installed.
2. **Dependencies**: Install the required Python libraries using `pip`:

   ```sh
   pip install -r requirements.txt
   ```

3. **RSA Keys**: Generate RSA keys using the provided script:

   ```sh
   python generate_keys.py
   ```

---

## Usage

### 1. Encrypt Data

The `encrypt.py` script compresses, encrypts, and generates necessary files for secure storage.

#### Steps:

1. Place the data folder(s) you want to encrypt in the project directory.

2. Run the encryption script:

   ```sh
   python encrypt.py
   ```

3. The script will:
   - Compress the latest `data` folder into a ZIP file.
   - Encrypt the ZIP file using AES-256.
   - Encrypt the AES key using RSA-4096.
   - Generate a SHA-256 checksum for the ZIP file.
   - Commit the encrypted files to the Git repository.

#### Output Files:

- `data_<timestamp>.zip.enc`: Encrypted ZIP file.
- `encrypted_aes_key_<timestamp>.bin`: Encrypted AES key.
- `checksum_<timestamp>.sha256`: SHA-256 checksum.

---

### 2. Decrypt Data

The `decrypt.py` script decrypts and decompresses the encrypted files.

#### Steps:

1. Ensure the following files are present in the project directory:
   - `data_<timestamp>.zip.enc`
   - `encrypted_aes_key_<timestamp>.bin`
   - `checksum_<timestamp>.sha256`
   - `keys/private_key.pem` (generated by `generate_keys.py`).
2. Run the decryption script:

   ```sh
   python decrypt.py
   ```

3. The script will:
   - Decrypt the AES key using the RSA private key.
   - Decrypt the ZIP file using the AES key.
   - Verify the checksum of the decrypted ZIP file.
   - Decompress the ZIP file into the `data` folder.

#### Output:

- Decrypted data will be extracted into the `data` folder.

---

### 3. Generate RSA Keys

The `generate_keys.py` script generates a pair of RSA keys (private and public).

#### Steps:

1. Run the script:

   ```sh
   python generate_keys.py
   ```

2. The keys will be saved in the `keys/` directory:
   - `keys/private_key.pem`: RSA private key.
   - `keys/public_key.pem`: RSA public key.

---

### 4. Generate a Random Password

The `generate_password.py` script generates a secure random password.

#### Example:

```sh
python generate_password.py
```

Output:

```
Generated Password: Abc123!@#...
```

---

## File Structure

```
.
├── encrypt.py               # Main script for encryption
├── decrypt.py               # Main script for decryption
├── generate_keys.py         # Script to generate RSA keys
├── generate_password.py     # Script to generate random passwords
├── logging_config.py        # Logging configuration
├── requirements.txt         # Python dependencies
├── keys/                    # Directory for RSA keys
│   ├── private_key.pem      # RSA private key
│   └── public_key.pem       # RSA public key
├── encryption/              # Encryption utilities
│   ├── aes_encryption.py    # AES encryption/decryption
│   ├── rsa_encryption.py    # RSA encryption/decryption
│   └── file_operations.py   # File compression and Git integration
├── data/                    # Directory for decrypted data
├── .gitignore               # Git ignore rules
└── README.md                # Project documentation
```

---

## Examples

### Encrypting Data

1. Place your data folder in the project directory (e.g., `data/`).

2. Run:

   ```sh
   python encrypt.py
   ```

3. Output:
   - `data_<timestamp>.zip.enc`
   - `encrypted_aes_key_<timestamp>.bin`
   - `checksum_<timestamp>.sha256`

### Decrypting Data

1. Ensure the required files are present:
   - `data_<timestamp>.zip.enc`
   - `encrypted_aes_key_<timestamp>.bin`
   - `checksum_<timestamp>.sha256`
   - `keys/private_key.pem`

2. Run:

   ```sh
   python decrypt.py
   ```

3. Output:
   - Decrypted data in the `data/` folder.

---

## Logging

All logs are stored in `project.log`. Logs include detailed information about encryption, decryption, and file operations.

---

## Security Notes

- Keep the `keys/private_key.pem` file secure. It is required to decrypt the AES key.
- Do not share the `keys/` directory or the private key with unauthorized users.
- Regularly back up your encrypted files and keys.

---

## License

This project is licensed under the MIT License. See the LICENSE file for details.
